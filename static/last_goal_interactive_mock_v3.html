<!DOCTYPE html><html lang="ja"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>ラストゴール（簡易インタラクティブ）</title>
<style>:root{--bg:#0b1020;--panel:#121a33;--line:#23346d;--text:#e9eefc;--muted:#9fb0d1;--accent:#8fd3ff}
body{margin:0;padding:22px;background:#0b1020;color:var(--text);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,"Noto Sans JP",Meiryo,sans-serif}
.container{max-width:980px;margin:0 auto;padding:0 12px}.card{background:#121a33;border:1px solid var(--line);border-radius:16px;padding:18px;margin:0 0 16px 0}
h1{font-size:24px;margin:0 0 10px} h2{font-size:18px;margin:0 0 10px;color:var(--accent)} .sub{color:var(--muted);margin:0 0 8px}
.row{display:flex;gap:10px;flex-wrap:wrap;align-items:center} select{background:#0f1a3a;color:#e9eefc;border:1px solid #23346d;border-radius:10px;padding:8px 10px}
.btn{cursor:pointer;border:none;border-radius:12px;padding:14px 18px;font-weight:800;background:#1b3a67;color:#e8f6ff;box-shadow:0 6px 18px rgba(0,0,0,.25);font-size:16px}
.btn[disabled]{opacity:.5;cursor:not-allowed}.btn.demo{background:#145a32}
.options{display:grid;gap:10px}.option{display:flex;align-items:center;justify-content:space-between;gap:12px;border:1px solid var(--line);border-radius:14px;padding:14px 16px;background:#101734}
.option.unlocked{border-color:#2b559f;box-shadow:0 0 0 2px rgba(140,200,255,.12) inset}.option.special{background:#0f1329}
.sky{position:relative;height:260px;border-radius:16px;background:linear-gradient(180deg,#0b1020,#0b1124);border:1px solid var(--line);overflow:hidden}
.star{position:absolute;width:8px;height:8px;border-radius:50%;background:#fff;opacity:.25}.glow{opacity:1;box-shadow:0 0 12px #fff}
.beam{position:absolute;height:2px;background:linear-gradient(90deg,rgba(255,255,255,0),rgba(255,255,255,.85),rgba(255,255,255,0));opacity:0}.beam.show{opacity:1}
.msg{margin-top:8px}.badge{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px;background:#15204a;border:1px solid #223169;color:#cfe3ff;font-weight:700}
</style></head>
<body><div class="container">
  <div class="card">
    <div class="row" style="justify-content:space-between">
      <div><h1>🎉 次のステージへようこそ！</h1><p class="sub">ここからは、<b>星の光</b>があなたを導きます。</p></div>
      <div class="row"><span class="sub">タイプ：</span>
        <select id="typeSel"><option value="導き手">導き手（獅子座）</option><option value="探検者">探検者（射手座）</option><option value="癒し手">癒し手（魚座）</option><option value="変革者">変革者（水瓶座）</option></select>
      </div>
    </div>
    <h2>これからの選択肢</h2>
    <div class="options">
      <div class="option unlocked"><div>① 一区切りにする<br><span class="sub">今日の気づきを持って日常へ</span></div><button class="btn">進む</button></div>
      <div class="option unlocked"><div>② 旅を続ける<br><span class="sub">日替わりの小さな一歩を受け取る</span></div><button class="btn">受け取る</button></div>
      <div class="option special" id="opt3"><div>③ さらに深める<br><span class="sub">診断を3人に共有して感想をもらうと解放 🔒</span></div><button class="btn" id="deepBtn" disabled>解放待ち</button></div>
    </div>
  </div>
  <div class="card">
    <h2>星座の進捗（共有＆感想）</h2>
    <p class="sub">1人に共有するたびに星がひとつ輝き、3つ集まると星座が浮かび上がります。</p>
    <div class="sky" id="sky">
      <div class="star" id="s1" style="left:18%; top:62%"></div><div class="star" id="s2" style="left:50%; top:24%"></div><div class="star" id="s3" style="left:82%; top:66%"></div>
      <div class="beam" id="b1" style="left:20%; top:52%; width:30%"></div><div class="beam" id="b2" style="left:52%; top:52%; width:30%"></div>
    </div>
    <div class="row" style="margin-top:10px">
      <button class="btn" id="share1">1人目の感想を受け取る</button><button class="btn" id="share2" disabled>2人目の感想を受け取る</button><button class="btn" id="share3" disabled>3人目の感想を受け取る（解放）</button>
      <button class="btn demo" id="demoRun">▶ デモ再生</button>
    </div>
    <div class="msg" id="progressMsg">まだ星は眠っています。</div>
  </div>
  <div class="card" id="unlockCard" style="display:none">
    <h2>✨ 解放されました</h2><p class="sub">新しい道が<b>星の光</b>に照らされました。あなたは <b id="roleTitle">星の導き手（獅子座）</b> です。</p>
    <div className="row"><span class="badge">🌟 星の紋章（共通バッジ）</span><button class="btn" id="openVoices">「あなたの光を映す声」を受け取る</button></div>
  </div>
  <div class="card" id="voicesCard" style="display:none">
    <h2>🌟 あなたの光を映す声</h2><p class="sub">3人の言葉が線でつながり、あなたの小さな星座になりました。（公開は任意）</p>
    <ul><li>💬 優しさと人への気配りが光っています。</li><li>💬 行動力があって、次のステージで必ず役立つと思う。</li><li>💬 新しいアイデアを生み出す力が輝いている。</li></ul>
  </div>
</div>
<script>
  const mapping = {"探検者":{zodiac:"射手座",title:"星の探検者"},"導き手":{zodiac:"獅子座",title:"星の導き手"},"癒し手":{zodiac:"魚座",title:"星の癒し手"},"変革者":{zodiac:"水瓶座",title:"星の変革者"}};
  let currentType="導き手";
  const typeSel=document.getElementById('typeSel'), roleTitle=document.getElementById('roleTitle');
  typeSel.addEventListener('change',()=>{ currentType=typeSel.value.replace(/（.*?）/,""); const m=mapping[currentType]; if(m) roleTitle.textContent=`${m.title}（${m.zodiac}）`; });
  const s1=document.getElementById('s1'),s2=document.getElementById('s2'),s3=document.getElementById('s3'),b1=document.getElementById('b1'),b2=document.getElementById('b2');
  const share1=document.getElementById('share1'),share2=document.getElementById('share2'),share3=document.getElementById('share3'),msg=document.getElementById('progressMsg');
  const deepBtn=document.getElementById('deepBtn'),unlockCard=document.getElementById('unlockCard'),openVoices=document.getElementById('openVoices'),voicesCard=document.getElementById('voicesCard');
  function step1(){s1.classList.add('glow');share1.disabled=true;share2.disabled=false;msg.textContent='🌟 1人目の光を受け取りました。';}
  function step2(){s2.classList.add('glow');b1.classList.add('show');share2.disabled=true;share3.disabled=false;msg.textContent='🌟🌟 2人目の光で、星同士がつながり始めました。';}
  function step3(){s3.classList.add('glow');b2.classList.add('show');msg.textContent='🌟🌟🌟 3人目の光で、星座が浮かび上がりました！';deepBtn.disabled=false;deepBtn.textContent='進む';unlockCard.style.display='block';unlockCard.scrollIntoView({behavior:'smooth'});const m=mapping[currentType]; if(m) roleTitle.textContent=`${m.title}（${m.zodiac}）`;}
  share1.addEventListener('click',step1);share2.addEventListener('click',step2);share3.addEventListener('click',step3);document.getElementById('demoRun').addEventListener('click',()=>{step1();setTimeout(step2,600);setTimeout(step3,1200);});
  openVoices.addEventListener('click',()=>{voicesCard.style.display='block';voicesCard.scrollIntoView({behavior:'smooth'});});
</script>
</body></html>
